{% extends "main.html" %}

{% block content %}
<div class="checkout-container">
    <h1>Checkout</h1>

    {% if cart_items %}
        <form method="post">
            {% csrf_token %}
            
            <div class="order-summary">
                <h2>Order Summary</h2>
                <ul>
                    {% for item in cart_items %}
                        <li>
                            <span class="product-name">{{ item.product.name }}</span>
                            <span class="product-total">{{ item.quantity }} x ${{ item.product.price }}</span>
                        </li>
                    {% endfor %}
                </ul>
                <p class="total">Total: ${{ total_price }}</p>
            </div>

            <div class="shipping-details">
                <h2>Shipping Details</h2>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address" required>
                </div>

                <div class="form-group">
                    <label for="payment">Payment Method:</label>
                    <select id="payment" name="payment">
                        <option value="credit_card">Credit Card</option>
                        <option value="paypal">PayPal</option>
                    </select>
                </div>
            </div>

            <button type="submit">Place Order</button>
        </form>
    {% else %}
        <p>Your cart is empty. <a href="{% url 'home' %}">Go back to shop</a>.</p>
    {% endif %}
</div>
{% endblock %}